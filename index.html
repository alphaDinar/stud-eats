<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://kit.fontawesome.com/eb75260fb3.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/register.css">
</head>

<body>
  <section class="page">
    <img src="images/logo.png" id="logo">
    <header>
      <strong>Welcome To StudStay</strong>
      <small>Register to start</small>
      <span class="err_box">Passwords do not match</span>
    </header>

    <style>
      header {
        position: relative;
      }

      header span {
        font-size: 0.8rem;
        color: salmon;
        padding: 3px 5px;
        border-radius: 3px;
        background: rgb(250, 227, 224);
        transition: 0.3s ease;
        position: absolute;
        opacity: 0;
        top: 80%;
      }

      header span.change {
        top: 105%;
        opacity: 1;
      }
    </style>



    <form method="post">
      <div>
        <input type="text" name="name" required placeholder="Enter Name">
      </div>
      <div>
        <input type="email" name="email" required placeholder="E-mail">
      </div>
      <div>
        <input type="tel" name="contact" required placeholder="Contact">
      </div>
      <div>
        <input type="password" name="password" required placeholder="Password">
      </div>
      <div>
        <input type="password" name="c_password" required placeholder="Confirm Password">
      </div>
      <button>Register</button>
    </form>
    <footer>
      <div>
        <hr>
        <small>or continue with</small>
        <hr>
      </div>
      <div>
        <a href="" class="fa-brands fa-google"></a>
        <a href="" class="fa-brands fa-facebook-f"></a>
      </div>
    </footer>

    <a href="login.html" style="color: #043c4b;">
      <small>Do you already have an account?</small>
    </a>
  </section>


  <script>
    const passwords = document.querySelectorAll('input[type="password"]')
    const register = document.querySelector('button')
    const err_box = document.querySelector('.err_box')
    const register_form = document.querySelector('form')

    passwords.forEach((el) => {
      el.oninput = () => {
        if (passwords[0].value.length < 4) {
          passwords[0].style.border = '1px solid salmon'
        } else {
          passwords[0].style.border = '1px solid springgreen'
          if (passwords[0].value != passwords[1].value) {
            passwords[1].style.border = '1px solid salmon'
          } else {
            passwords[1].style.border = '1px solid springgreen'
          }
        }
      }
    })

    register.onclick = () => {
      if (passwords[0].value.length > 3) {
        if (passwords[0].value != passwords[1].value) {
          passwords[1].style.border = '1px solid salmon'
          err_box.innerHTML = 'passwords do not match'
          err_box.classList.add('change')
        } else {
          err_box.classList.remove('change')
          passwords[1].style.border = '1px solid springgreen'
          if (register_form.checkValidity()) {
            register_form.submit()
          }
        }
      } else {
        err_box.innerHTML = 'password not strong enough'
        err_box.classList.add('change')
      }
    }

  </script>

</body>

</html>